<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>A‑Frame Webviewer — sjabloon</title>
  <!-- A-Frame CDN -->
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <!-- Optioneel: extra componenten kunnen hier toegevoegd worden -->
  <style>
    /* Basisstijl zodat de canvas vol scherm gebruikt */
    html, body {
      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: #111; /* valt weg zodra de a-scene geladen is */
    }

    /* Kleine UI-balk bovenin (optioneel) */
    .topbar {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      display: flex;
      gap: 8px;
      align-items: center;
      color: white;
      pointer-events: none; /* laat klik-events door naar de scene */
      opacity: 0.9;
    }

    .topbar .title {
      background: rgba(0,0,0,0.5);
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 14px;
      pointer-events: none;
    }

    /* Maak de A-Frame canvas en container volledig scherm */
    a-scene {
      width: 100%;
      height: 100vh;
      display: block;
    }

    .ui {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 10;
      display: flex;
      gap: 10px;
    }
    button {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      background: #9e0ca5;
      color: rgb(255, 255, 255);
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #ec2eb3;
    }

    .Toggle_ui {
      position: fixed;
      top: 50px;
      left: 10px;
      z-index: 10;
      display: flex;
      gap: 10px;
    }
    button {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      background: #9e0ca5;
      color: rgb(255, 255, 255);
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #ec2eb3;
    }
  </style>
</head>
<body>

  <div class="ui">
    <button onclick="changeBackground('#87CEEB')">Dag</button>
    <button onclick="changeBackground('#FFCC99')">Schemer</button>
    <button onclick="changeBackground('#111111')">Nacht</button>
  </div>

  <div class="Toggle_ui">
    <button onclick="toggleObject()"> Toggle huis</button>
  </div>
  
  <!-- Optionele UI: laat dit weg of bewaar als referentie -->
  <div class="topbar">
    <div class="title">D07 - Kilian Boelens</div>
  </div>

  <a-scene id="scene" vr-mode-ui="enabled: true"
           background="color: #87CEEB"
           fog="type: exponential; color: #87CEEB; density: 0.003"> 

    <a-assets> 
      <a-asset-item id="pienikoti" src="tiny_house.obj"></a-asset-item>
      <a-asset-item id="pienikoti-mtl" src="tiny_house.mtl"></a-asset-item>
    </a-assets>  
    
    <a-assets>
      <a-asset-item id="kaart" src="3Dutrecht.obj"></a-asset-item>
      <a-asset-item id="kaart-mtl" src="3Dutrecht.mtl"></a-asset-item>
    </a-assets>
    
    <a-entity 
      id= "pienikotientity"
      obj-model="obj: #pienikoti; mtl: #pienikoti-mtl"
      position="0 -3.5 -50"
      rotation="270 0 0"
      scale="0.001 0.001 0.001">
    </a-entity>

    <a-entity 
      id= "kaartentity"
      obj-model="obj: #kaart; mtl: #kaart-mtl"
      position="-170 -5 200"
      rotation="-90 0 0"
      scale="1 1 1">
    </a-entity>

    <a-entity camera look-controls wasd-controls="acceleration: 1000" position="0 70 0"></a-entity>

  </a-scene>

  <script>
    function changeBackground(color){
      const scene = document.querySelector('#scene');
      // Pas achtergrondkleur aan
      scene.setAttribute('background', `color: ${color}`);
      // Past de mist kleur ook aan
      scene.setAttribute('fog', `type: exponential; color: ${color}; density: 0.003`);
    }
  </script>

  <script>
    function toggleObject() {
      const house = document.querySelector('#pienikotientity');
      if (!house) return;
      console.log(house);

      // Bepaal huidige zichtbaarheid
      const visible = house.getAttribute('visible');
      // Zet om naar het tegenovergestelde
      house.setAttribute('visible', !visible);
    }
  </script>

</body>
</html>